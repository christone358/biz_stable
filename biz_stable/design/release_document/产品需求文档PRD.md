# ä¸šåŠ¡ç¨³å®šæ€§ç›‘æ§ç³»ç»Ÿ - äº§å“éœ€æ±‚æ–‡æ¡£ (PRD)

## æ–‡æ¡£ä¿¡æ¯
- **äº§å“åç§°**: ä¸šåŠ¡ç¨³å®šæ€§ç›‘æ§ç³»ç»Ÿ (Business Stability Monitoring System)
- **ç‰ˆæœ¬**: v2.1.0
- **åˆ›å»ºæ—¥æœŸ**: 2025-09-28
- **æ›´æ–°æ—¥æœŸ**: 2025-09-28
- **æ–‡æ¡£çŠ¶æ€**: å·²å®ç°
- **ç›®æ ‡å—ä¼—**: å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆã€åç«¯å¼€å‘å·¥ç¨‹å¸ˆã€æµ‹è¯•å·¥ç¨‹å¸ˆã€äº§å“ç»ç†

## ğŸ“‹ ç›®å½•
1. [äº§å“æ¦‚è¿°](#äº§å“æ¦‚è¿°)
2. [ç”¨æˆ·åˆ†æ](#ç”¨æˆ·åˆ†æ)
3. [åŠŸèƒ½éœ€æ±‚](#åŠŸèƒ½éœ€æ±‚)
4. [æŠ€æœ¯éœ€æ±‚](#æŠ€æœ¯éœ€æ±‚)
5. [ç•Œé¢è®¾è®¡éœ€æ±‚](#ç•Œé¢è®¾è®¡éœ€æ±‚)
6. [æ€§èƒ½éœ€æ±‚](#æ€§èƒ½éœ€æ±‚)
7. [å®‰å…¨éœ€æ±‚](#å®‰å…¨éœ€æ±‚)
8. [å¼€å‘è§„èŒƒ](#å¼€å‘è§„èŒƒ)
9. [æµ‹è¯•éœ€æ±‚](#æµ‹è¯•éœ€æ±‚)
10. [éƒ¨ç½²éœ€æ±‚](#éƒ¨ç½²éœ€æ±‚)
11. [éªŒæ”¶æ ‡å‡†](#éªŒæ”¶æ ‡å‡†)

## äº§å“æ¦‚è¿°

### 1.1 äº§å“èƒŒæ™¯
æ”¿åºœéƒ¨é—¨éœ€è¦å¯¹å„ä¸šåŠ¡ç³»ç»Ÿçš„ITåŸºç¡€è®¾æ–½è¿›è¡Œç»Ÿä¸€ç›‘æ§å’Œç®¡ç†ï¼Œç¡®ä¿ä¸šåŠ¡è¿ç»­æ€§å’Œæ•°æ®å®‰å…¨ã€‚ç°æœ‰ç›‘æ§ç³»ç»Ÿå­˜åœ¨ä»¥ä¸‹ç—›ç‚¹ï¼š
- æ•°æ®åˆ†æ•£ï¼Œç¼ºä¹ç»Ÿä¸€è§†å›¾
- å‘Šè­¦ä¿¡æ¯æ··ä¹±ï¼Œæ— æ³•å¿«é€Ÿå®šä½é—®é¢˜
- ç¼ºä¹å±‚æ¬¡åŒ–çš„ç»„ç»‡ç»“æ„ç®¡ç†
- ç•Œé¢å¤æ‚ï¼Œæ“ä½œæ•ˆç‡ä½

### 1.2 äº§å“å®šä½
é¢å‘æ”¿åºœéƒ¨é—¨ITç®¡ç†äººå‘˜çš„ä¸€ç«™å¼ä¸šåŠ¡ç¨³å®šæ€§ç›‘æ§å¹³å°ï¼Œæä¾›ï¼š
- å››çº§å±‚æ¬¡åŒ–ç›‘æ§ï¼ˆæ ¹èŠ‚ç‚¹â†’éƒ¨é—¨â†’ç³»ç»Ÿâ†’èµ„äº§ï¼‰
- å®æ—¶å¥åº·çŠ¶æ€å¯è§†åŒ–
- æ™ºèƒ½å‘Šè­¦åˆ†ç±»å’Œå¤„ç†
- ç›´è§‚çš„æ•°æ®é’»å–å’Œå¯¼èˆª

### 1.3 äº§å“ä»·å€¼
- **æå‡ç›‘æ§æ•ˆç‡**: ç»Ÿä¸€ç•Œé¢å±•ç¤ºæ‰€æœ‰ç›‘æ§æ•°æ®ï¼Œå‡å°‘åˆ‡æ¢æˆæœ¬
- **å¿«é€Ÿæ•…éšœå®šä½**: å±‚æ¬¡åŒ–å¯¼èˆªå’Œæ™ºèƒ½åˆ†ç±»ï¼Œå¿«é€Ÿé”å®šé—®é¢˜æ ¹æº
- **é™ä½è¿ç»´æˆæœ¬**: è‡ªåŠ¨åŒ–å‘Šè­¦å¤„ç†æµç¨‹ï¼Œå‡å°‘äººå·¥å¹²é¢„
- **å¢å¼ºå†³ç­–æ”¯æŒ**: ä¸°å¯Œçš„å¯è§†åŒ–å›¾è¡¨å’Œç»Ÿè®¡æŒ‡æ ‡

### 1.4 æˆåŠŸæŒ‡æ ‡
- æ•…éšœå‘ç°æ—¶é—´ç¼©çŸ­50%
- æ•…éšœå¤„ç†æ•ˆç‡æå‡30%
- ç”¨æˆ·æ“ä½œæ­¥éª¤å‡å°‘60%
- ç³»ç»Ÿå¯ç”¨æ€§è¾¾åˆ°99.9%

## ç”¨æˆ·åˆ†æ

### 2.1 ç›®æ ‡ç”¨æˆ·
| ç”¨æˆ·è§’è‰² | å æ¯” | ä¸»è¦èŒè´£ | ä½¿ç”¨åœºæ™¯ |
|---------|------|---------|---------|
| **ITè¿ç»´ç®¡ç†å‘˜** | 40% | ç³»ç»Ÿç›‘æ§ã€æ•…éšœå¤„ç† | æ—¥å¸¸ç›‘æ§ã€æ•…éšœå“åº”ã€æ€§èƒ½ä¼˜åŒ– |
| **éƒ¨é—¨ITè´Ÿè´£äºº** | 30% | éƒ¨é—¨ç³»ç»Ÿç®¡ç†ã€èµ„æºè§„åˆ’ | éƒ¨é—¨ç³»ç»Ÿæ¦‚è§ˆã€èµ„æºä½¿ç”¨æƒ…å†µ |
| **å®‰å…¨ç®¡ç†å‘˜** | 20% | å®‰å…¨ç›‘æ§ã€æ¼æ´ç®¡ç† | å®‰å…¨äº‹ä»¶å¤„ç†ã€æ¼æ´ä¿®å¤è·Ÿè¸ª |
| **é¢†å¯¼å†³ç­–å±‚** | 10% | æ•´ä½“æ€åŠ¿æŒæ¡ã€å†³ç­–æ”¯æŒ | é«˜å±‚æ¬¡ç»Ÿè®¡æ•°æ®ã€è¶‹åŠ¿åˆ†æ |

### 2.2 ç”¨æˆ·æ•…äº‹ (User Stories)

#### 2.2.1 ITè¿ç»´ç®¡ç†å‘˜
```
ä½œä¸ºä¸€åITè¿ç»´ç®¡ç†å‘˜
æˆ‘å¸Œæœ›èƒ½å¤Ÿåœ¨ä¸€ä¸ªç•Œé¢çœ‹åˆ°æ‰€æœ‰ç³»ç»Ÿçš„å¥åº·çŠ¶æ€
ä»¥ä¾¿å¿«é€Ÿè¯†åˆ«å’Œå¤„ç†å¼‚å¸¸æƒ…å†µ

éªŒæ”¶æ ‡å‡†ï¼š
- èƒ½åœ¨30ç§’å†…å®Œæˆå…¨å±€ç³»ç»ŸçŠ¶æ€æ£€æŸ¥
- å¼‚å¸¸ç³»ç»Ÿèƒ½åœ¨ç•Œé¢ä¸Šæ˜æ˜¾æ ‡è¯†
- èƒ½ä¸€é”®é’»å–åˆ°å…·ä½“å¼‚å¸¸èµ„äº§
```

#### 2.2.2 éƒ¨é—¨ITè´Ÿè´£äºº
```
ä½œä¸ºä¸€åéƒ¨é—¨ITè´Ÿè´£äºº
æˆ‘å¸Œæœ›èƒ½å¤ŸæŸ¥çœ‹æœ¬éƒ¨é—¨çš„ç³»ç»Ÿå’Œèµ„äº§çŠ¶å†µ
ä»¥ä¾¿åˆç†è§„åˆ’èµ„æºå’Œé¢„ç®—

éªŒæ”¶æ ‡å‡†ï¼š
- å¯æŒ‰éƒ¨é—¨ç­›é€‰æŸ¥çœ‹ç›¸å…³ç³»ç»Ÿ
- æä¾›éƒ¨é—¨çº§åˆ«çš„ç»Ÿè®¡æ•°æ®
- æ”¯æŒå¯¼å‡ºéƒ¨é—¨æŠ¥å‘Šæ•°æ®
```

#### 2.2.3 å®‰å…¨ç®¡ç†å‘˜
```
ä½œä¸ºä¸€åå®‰å…¨ç®¡ç†å‘˜
æˆ‘å¸Œæœ›èƒ½å¤Ÿç›‘æ§æ‰€æœ‰å®‰å…¨ç›¸å…³çš„å‘Šè­¦å’Œæ¼æ´
ä»¥ä¾¿åŠæ—¶å“åº”å®‰å…¨å¨èƒ

éªŒæ”¶æ ‡å‡†ï¼š
- å®‰å…¨å‘Šè­¦èƒ½å¤Ÿç‹¬ç«‹åˆ†ç±»å±•ç¤º
- æ¼æ´ä¿¡æ¯åŒ…å«è¯¦ç»†çš„ä¿®å¤å»ºè®®
- æ”¯æŒå‘Šè­¦ç¡®è®¤å’Œå¤„ç†æµç¨‹
```

### 2.3 ç”¨æˆ·éœ€æ±‚ä¼˜å…ˆçº§
| éœ€æ±‚ç±»åˆ« | ä¼˜å…ˆçº§ | å…·ä½“éœ€æ±‚ |
|---------|--------|---------|
| **æ ¸å¿ƒåŠŸèƒ½** | P0 | ç»„ç»‡æ¶æ„å±•ç¤ºã€å¥åº·çŠ¶æ€ç›‘æ§ã€å‘Šè­¦ç®¡ç† |
| **é‡è¦åŠŸèƒ½** | P1 | æ•°æ®é’»å–ã€é¢åŒ…å±‘å¯¼èˆªã€å®æ—¶åˆ·æ–° |
| **å¢å¼ºåŠŸèƒ½** | P2 | è¶‹åŠ¿åˆ†æã€å¯¼å‡ºæŠ¥å‘Šã€ä¸ªæ€§åŒ–é…ç½® |
| **é™„åŠ åŠŸèƒ½** | P3 | ç§»åŠ¨ç«¯é€‚é…ã€æš—é»‘æ¨¡å¼ã€å¤šè¯­è¨€æ”¯æŒ |

## åŠŸèƒ½éœ€æ±‚

### 3.1 åŠŸèƒ½æ¶æ„å›¾
```
ä¸šåŠ¡ç¨³å®šæ€§ç›‘æ§ç³»ç»Ÿ
â”œâ”€â”€ ç»„ç»‡æ¶æ„ç®¡ç†
â”‚   â”œâ”€â”€ å››çº§å±‚æ¬¡å±•ç¤º
â”‚   â”œâ”€â”€ åŠ¨æ€åŠ è½½å­èŠ‚ç‚¹
â”‚   â””â”€â”€ å¥åº·çŠ¶æ€èšåˆ
â”œâ”€â”€ æ•°æ®å¯è§†åŒ–
â”‚   â”œâ”€â”€ KPIæŒ‡æ ‡å¡ç‰‡
â”‚   â”œâ”€â”€ å¥åº·çŸ©é˜µå›¾
â”‚   â””â”€â”€ è¶‹åŠ¿å›¾è¡¨
â”œâ”€â”€ ç³»ç»Ÿè¯¦æƒ…å±•ç¤º
â”‚   â”œâ”€â”€ å››ç§æ˜¾ç¤ºæ¨¡å¼
â”‚   â”œâ”€â”€ è§†å›¾åˆ‡æ¢
â”‚   â””â”€â”€ é¢åŒ…å±‘å¯¼èˆª
â”œâ”€â”€ å‘Šè­¦ç›‘æ§
â”‚   â”œâ”€â”€ ä¸‰ç±»å‘Šè­¦åˆ†ç±»
â”‚   â”œâ”€â”€ åŠ¨æ€ç­›é€‰
â”‚   â””â”€â”€ å¤„ç†æµç¨‹
â””â”€â”€ é…ç½®ç®¡ç†
    â”œâ”€â”€ Mockæ•°æ®é…ç½®
    â”œâ”€â”€ ç”¨æˆ·åå¥½è®¾ç½®
    â””â”€â”€ ç³»ç»Ÿå‚æ•°ç®¡ç†
```

### 3.2 è¯¦ç»†åŠŸèƒ½éœ€æ±‚

#### 3.2.1 ç»„ç»‡æ¶æ„ç®¡ç† (P0)

**éœ€æ±‚æè¿°**: æä¾›å››çº§å±‚æ¬¡çš„ç»„ç»‡æ¶æ„å±•ç¤ºå’Œäº¤äº’

**åŠŸèƒ½ç‚¹**:
1. **å±‚æ¬¡ç»“æ„å±•ç¤º**
   - æ”¯æŒæ ¹èŠ‚ç‚¹â†’éƒ¨é—¨â†’ç³»ç»Ÿâ†’èµ„äº§å››çº§ç»“æ„
   - æ¯ä¸ªèŠ‚ç‚¹æ˜¾ç¤ºåç§°ã€å¥åº·çŠ¶æ€ã€ç»Ÿè®¡æ•°æ®
   - æ”¯æŒèŠ‚ç‚¹å±•å¼€/æŠ˜å çŠ¶æ€ç®¡ç†

2. **äº¤äº’è¡Œä¸º**
   - ç‚¹å‡»èŠ‚ç‚¹åˆ‡æ¢å³ä¾§è¯¦æƒ…é¢æ¿æ˜¾ç¤ºå†…å®¹
   - å±•å¼€å›¾æ ‡ç‚¹å‡»åŠ¨æ€åŠ è½½å­èŠ‚ç‚¹
   - æ”¯æŒé”®ç›˜å¯¼èˆªï¼ˆTabã€å›è½¦ã€æ–¹å‘é”®ï¼‰

3. **çŠ¶æ€ç®¡ç†**
   - é€‰ä¸­çŠ¶æ€è§†è§‰åé¦ˆ
   - å±•å¼€çŠ¶æ€æŒä¹…åŒ–
   - å¥åº·çŠ¶æ€å®æ—¶æ›´æ–°

**å¼€å‘è¦æ±‚**:
```typescript
// æ ¸å¿ƒæ•°æ®ç»“æ„
interface OrganizationNode {
  id: string
  name: string
  type: 'root' | 'department' | 'system' | 'asset'
  healthStatus: HealthStatus
  children?: OrganizationNode[]
  isExpanded?: boolean
  systemCount: number
  assetCount: number
}

// å…³é”®ç»„ä»¶æ–¹æ³•
const handleNodeClick = (node: OrganizationNode) => {
  // 1. æ›´æ–°é€‰ä¸­çŠ¶æ€
  dispatch(setSelectedOrganization(node))

  // 2. æ ¹æ®èŠ‚ç‚¹ç±»å‹åŠ è½½ç›¸åº”æ•°æ®
  switch (node.type) {
    case 'department':
      loadDepartmentSystems(node.id)
      break
    case 'system':
      loadSystemAssets(node.id)
      break
  }

  // 3. æ¸…é™¤ä¸ç›¸å…³çš„é€‰æ‹©çŠ¶æ€
  dispatch(setSelectedAssetId(null))
}
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] æ”¯æŒ4çº§å±‚æ¬¡ç»“æ„å±•ç¤º
- [ ] ç‚¹å‡»èŠ‚ç‚¹èƒ½æ­£ç¡®åˆ‡æ¢å³ä¾§å†…å®¹
- [ ] å±•å¼€çŠ¶æ€åœ¨åˆ·æ–°åä¿æŒ
- [ ] å¥åº·çŠ¶æ€é¢œè‰²ç¼–ç æ­£ç¡®
- [ ] æ€§èƒ½ï¼š1000ä¸ªèŠ‚ç‚¹æ¸²æŸ“æ—¶é—´<200ms

#### 3.2.2 å¥åº·çŸ©é˜µå¯è§†åŒ– (P0)

**éœ€æ±‚æè¿°**: ä½¿ç”¨D3.jså®ç°äº¤äº’å¼å¥åº·çŸ©é˜µå›¾å’Œèœ‚çªå›¾

**åŠŸèƒ½ç‚¹**:
1. **çŸ©é˜µå›¾å±•ç¤º**
   - æŒ‰éƒ¨é—¨å’Œé‡è¦æ€§ç»´åº¦å±•ç¤ºç³»ç»Ÿåˆ†å¸ƒ
   - æ°”æ³¡å¤§å°è¡¨ç¤ºèµ„äº§æ•°é‡
   - é¢œè‰²è¡¨ç¤ºå¥åº·çŠ¶æ€

2. **èœ‚çªå›¾å±•ç¤º**
   - ç³»ç»Ÿçº§åˆ«æ—¶å±•ç¤ºèµ„äº§èœ‚çªå›¾
   - æ”¯æŒç¼©æ”¾å’Œå¹³ç§»æ“ä½œ
   - ç‚¹å‡»èœ‚çªè¿›å…¥èµ„äº§è¯¦æƒ…

3. **äº¤äº’åŠŸèƒ½**
   - é¼ æ ‡æ‚¬åœæ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯
   - ç‚¹å‡»æ°”æ³¡/èœ‚çªè§¦å‘å¯¼èˆª
   - é€‰ä¸­çŠ¶æ€é«˜äº®æ˜¾ç¤º

**å¼€å‘è¦æ±‚**:
```typescript
// D3.jsç»„ä»¶ç»“æ„
const HealthMatrix: React.FC = () => {
  const svgRef = useRef<SVGSVGElement>(null)
  const { filteredAssets, selectedAssetId } = useSelector(...)

  useEffect(() => {
    const svg = d3.select(svgRef.current)

    // æ¸…é™¤ç°æœ‰å†…å®¹
    svg.selectAll('*').remove()

    // æ ¹æ®æ•°æ®ç±»å‹é€‰æ‹©æ¸²æŸ“æ–¹å¼
    if (selectedOrganization?.type === 'system') {
      renderHoneycombChart(svg, filteredAssets)
    } else {
      renderMatrixChart(svg, systemData)
    }

    // ç»‘å®šäº¤äº’äº‹ä»¶
    svg.selectAll('.interactive-element')
      .on('click', handleElementClick)
      .on('mouseover', showTooltip)
      .on('mouseout', hideTooltip)

    // æ¸…ç†å‡½æ•°
    return () => {
      svg.selectAll('*').remove()
    }
  }, [filteredAssets, selectedAssetId])
}

// èœ‚çªå›¾å¸ƒå±€ç®—æ³•
const calculateHexagonPositions = (data: Asset[]) => {
  const hexRadius = 20
  const positions: Array<{x: number, y: number, data: Asset}> = []

  // å®ç°å…­è¾¹å½¢ç´§å¯†æ’åˆ—ç®—æ³•
  // ...å¸ƒå±€è®¡ç®—é€»è¾‘

  return positions
}
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] çŸ©é˜µå›¾èƒ½æ­£ç¡®å±•ç¤ºç³»ç»Ÿåˆ†å¸ƒ
- [ ] èœ‚çªå›¾å¸ƒå±€ç´§å¯†æ— é‡å 
- [ ] ç¼©æ”¾å¹³ç§»æ“ä½œæµç•…
- [ ] é€‰ä¸­çŠ¶æ€è§†è§‰åé¦ˆæ˜æ˜¾
- [ ] å·¥å…·æç¤ºä¿¡æ¯å‡†ç¡®

#### 3.2.3 ç³»ç»Ÿè¯¦æƒ…é¢æ¿ (P0)

**éœ€æ±‚æè¿°**: åŠ¨æ€å±•ç¤ºä¸åŒå±‚çº§çš„è¯¦ç»†ä¿¡æ¯

**åŠŸèƒ½ç‚¹**:
1. **å››ç§æ˜¾ç¤ºæ¨¡å¼**
   - systemsList: ä¸šåŠ¡ç³»ç»Ÿæ¦‚è§ˆåˆ—è¡¨
   - departmentSystems: éƒ¨é—¨ç³»ç»Ÿï¼ˆæ”¯æŒåˆ—è¡¨/å¡ç‰‡åˆ‡æ¢ï¼‰
   - systemDetail: ç³»ç»Ÿè¯¦ç»†ä¿¡æ¯
   - assetDetail: èµ„äº§è¯¦ç»†ä¿¡æ¯

2. **è§†å›¾åˆ‡æ¢**
   - åˆ—è¡¨/å¡ç‰‡è§†å›¾åˆ‡æ¢å¼€å…³
   - é»˜è®¤å¡ç‰‡è§†å›¾å±•ç¤ºæ›´å¤šä¿¡æ¯
   - å“åº”å¼å¸ƒå±€é€‚é…

3. **é¢åŒ…å±‘å¯¼èˆª**
   - æ˜¾ç¤ºå½“å‰ä½ç½®è·¯å¾„
   - æ”¯æŒç‚¹å‡»è¿”å›ä¸Šçº§
   - è‡ªåŠ¨æ¸…é™¤ç›¸å…³é€‰æ‹©çŠ¶æ€

**å¼€å‘è¦æ±‚**:
```typescript
// æ˜¾ç¤ºå†…å®¹è®¡ç®—é€»è¾‘
const displayContent = useMemo(() => {
  // ä¼˜å…ˆçº§1: èœ‚çªå›¾èµ„äº§é€‰æ‹©
  if (selectedAssetId && filteredAssets.length > 0) {
    const selectedAsset = filteredAssets.find(asset => asset.id === selectedAssetId)
    if (selectedAsset) {
      return { type: 'assetDetail', data: selectedAsset }
    }
  }

  // ä¼˜å…ˆçº§2: ç»„ç»‡èŠ‚ç‚¹é€‰æ‹©
  if (!selectedOrganization) {
    return { type: 'empty', data: null }
  }

  switch (selectedOrganization.type) {
    case 'root':
      return { type: 'systemsList', data: generateMockSystems() }
    case 'department':
      return { type: 'departmentSystems', data: departmentSystems }
    case 'system':
      return { type: 'systemDetail', data: systemDetail }
    default:
      return { type: 'empty', data: null }
  }
}, [selectedOrganization, filteredAssets, selectedAssetId])

// è¿”å›å¯¼èˆªå¤„ç†
const handleBackToSystem = () => {
  dispatch(setSelectedAssetId(null))
  // ä¿æŒç³»ç»Ÿçº§åˆ«çš„å…¶ä»–çŠ¶æ€ä¸å˜
}
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] å››ç§æ˜¾ç¤ºæ¨¡å¼åˆ‡æ¢æ­£ç¡®
- [ ] åˆ—è¡¨/å¡ç‰‡è§†å›¾åˆ‡æ¢æ­£å¸¸
- [ ] é¢åŒ…å±‘å¯¼èˆªåŠŸèƒ½å®Œæ•´
- [ ] æ•°æ®åŠ è½½çŠ¶æ€æ˜¾ç¤º
- [ ] ç©ºçŠ¶æ€å‹å¥½æç¤º

#### 3.2.4 å‘Šè­¦ç›‘æ§ç³»ç»Ÿ (P0)

**éœ€æ±‚æè¿°**: ä¸‰ç±»å‘Šè­¦çš„åˆ†ç±»å±•ç¤ºå’Œå¤„ç†

**åŠŸèƒ½ç‚¹**:
1. **å‘Šè­¦åˆ†ç±»**
   - è¿è¡Œå‘Šè­¦(RUNTIME): ç³»ç»Ÿè¿è¡Œå¼‚å¸¸
   - è„†å¼±æ€§(VULNERABILITY): å®‰å…¨æ¼æ´
   - å®‰å…¨äº‹ä»¶(SECURITY): å®‰å…¨å¨èƒ

2. **åŠ¨æ€ç­›é€‰**
   - æ ¹æ®ç»„ç»‡æ ‘é€‰æ‹©è‡ªåŠ¨ç­›é€‰
   - æ”¯æŒå¤šç»´åº¦è¿‡æ»¤æ¡ä»¶
   - å®æ—¶è®¡æ•°æ›´æ–°

3. **å¤„ç†æµç¨‹**
   - å‘Šè­¦ç¡®è®¤ã€åˆ†æ´¾ã€è§£å†³
   - çŠ¶æ€å˜æ›´è®°å½•
   - å¤„ç†æ—¶é—´ç»Ÿè®¡

**å¼€å‘è¦æ±‚**:
```typescript
// å‘Šè­¦æ•°æ®å¤„ç†
const AlertPanel: React.FC = () => {
  const [items, setItems] = useState<AlertPanelItem[]>([])
  const { selectedOrganization, filteredAssets } = useSelector(...)

  // æ•°æ®åŠ è½½å’Œç­›é€‰
  useEffect(() => {
    const loadData = async () => {
      const alerts = await generateMockAlerts()
      const vulnerabilities = await generateMockVulnerabilities()
      const securityEvents = await generateSecurityEvents()

      let allItems = [...alerts, ...vulnerabilities, ...securityEvents]

      // æ ¹æ®é€‰æ‹©èŒƒå›´ç­›é€‰
      if (selectedOrganization && selectedOrganization.type !== 'root') {
        allItems = filterByOrganization(allItems, selectedOrganization)
      }

      setItems(allItems.sort((a, b) =>
        new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime()
      ))
    }

    loadData()
  }, [selectedOrganization, filteredAssets])

  // æŒ‰ç±»å‹åˆ†ç»„
  const groupedItems = useMemo(() => ({
    runtime: items.filter(item => item.type === 'RUNTIME'),
    vulnerability: items.filter(item => item.type === 'VULNERABILITY'),
    security: items.filter(item => item.type === 'SECURITY')
  }), [items])
}
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] ä¸‰ç±»å‘Šè­¦æ­£ç¡®åˆ†ç±»æ˜¾ç¤º
- [ ] ç­›é€‰é€»è¾‘å‡†ç¡®æ— è¯¯
- [ ] æ ‡ç­¾é¡µè®¡æ•°å®æ—¶æ›´æ–°
- [ ] å‘Šè­¦é¡¹å±•ç¤ºä¿¡æ¯å®Œæ•´
- [ ] å¤„ç†æµç¨‹çŠ¶æ€æ­£ç¡®

### 3.3 éåŠŸèƒ½éœ€æ±‚

#### 3.3.1 æ•°æ®ç®¡ç†éœ€æ±‚
1. **Mockæ•°æ®ç³»ç»Ÿ**
   - ç¡®å®šæ€§éšæœºç®—æ³•ä¿è¯æ•°æ®ä¸€è‡´æ€§
   - æ”¯æŒå¯è§†åŒ–é…ç½®ç•Œé¢
   - æ•°æ®å…³è”å…³ç³»å®Œæ•´

2. **çŠ¶æ€ç®¡ç†**
   - Redux Toolkitç»Ÿä¸€çŠ¶æ€ç®¡ç†
   - çŠ¶æ€æŒä¹…åŒ–ï¼ˆå¯é€‰ï¼‰
   - å¼€å‘å·¥å…·æ”¯æŒ

#### 3.3.2 å¯æ‰©å±•æ€§éœ€æ±‚
1. **ç»„ä»¶åŒ–è®¾è®¡**
   - å¯å¤ç”¨ç»„ä»¶åº“
   - æ’ä»¶åŒ–æ¶æ„
   - ä¸»é¢˜ç³»ç»Ÿæ”¯æŒ

2. **å›½é™…åŒ–æ”¯æŒ**
   - å¤šè¯­è¨€åˆ‡æ¢
   - æ—¶åŒºå¤„ç†
   - æ•°å­—æ ¼å¼åŒ–

## æŠ€æœ¯éœ€æ±‚

### 4.1 æŠ€æœ¯æ ˆè¦æ±‚

#### 4.1.1 å‰ç«¯æŠ€æœ¯æ ˆ
```json
{
  "framework": "React 18.x",
  "language": "TypeScript 5.x",
  "buildTool": "Vite 5.x",
  "uiLibrary": "Ant Design 5.x",
  "stateManagement": "Redux Toolkit",
  "visualization": "D3.js 7.x",
  "routing": "React Router 6.x",
  "styling": "CSS Custom Properties + CSS Modules",
  "testing": "Jest + React Testing Library",
  "linting": "ESLint + Prettier"
}
```

#### 4.1.2 æ„å»ºå’Œéƒ¨ç½²
```json
{
  "nodeVersion": ">=18.0.0",
  "packageManager": "npm",
  "bundleAnalysis": "rollup-plugin-visualizer",
  "codeQuality": "SonarQube (å¯é€‰)",
  "ci-cd": "GitHub Actions / Jenkins",
  "deployment": "Docker + Nginx"
}
```

### 4.2 ä»£ç è´¨é‡è¦æ±‚

#### 4.2.1 ä»£ç è§„èŒƒ
```typescript
// 1. TypeScriptä¸¥æ ¼æ¨¡å¼
{
  "compilerOptions": {
    "strict": true,
    "noImplicitAny": true,
    "noImplicitReturns": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true
  }
}

// 2. ç»„ä»¶å®šä¹‰è§„èŒƒ
interface ComponentProps {
  // å¿…éœ€å±æ€§
  data: DataType
  // å¯é€‰å±æ€§
  className?: string
  // å›è°ƒå‡½æ•°
  onItemClick?: (item: DataType) => void
}

const Component: React.FC<ComponentProps> = ({
  data,
  className,
  onItemClick
}) => {
  // ç»„ä»¶å®ç°
}

// 3. çŠ¶æ€ç®¡ç†è§„èŒƒ
interface StateSlice {
  // æ•°æ®çŠ¶æ€
  data: DataType[]
  // UIçŠ¶æ€
  loading: boolean
  error: string | null
  // é€‰æ‹©çŠ¶æ€
  selectedItem: DataType | null
}
```

#### 4.2.2 æ€§èƒ½è¦æ±‚
```typescript
// 1. ç»„ä»¶ä¼˜åŒ–
const OptimizedComponent = React.memo(Component, (prev, next) => {
  return shallowEqual(prev, next)
})

// 2. çŠ¶æ€é€‰æ‹©å™¨ä¼˜åŒ–
const useOptimizedSelector = () => {
  return useSelector(state => ({
    data: state.data,
    loading: state.loading
  }), shallowEqual)
}

// 3. è®¡ç®—ç¼“å­˜
const expensiveCalculation = useMemo(() => {
  return computeHeavyData(data)
}, [data])

// 4. å›è°ƒç¼“å­˜
const handleClick = useCallback((id: string) => {
  dispatch(selectItem(id))
}, [dispatch])
```

### 4.3 æµ‹è¯•è¦æ±‚

#### 4.3.1 å•å…ƒæµ‹è¯•
```typescript
// ç»„ä»¶æµ‹è¯•ç¤ºä¾‹
describe('OrganizationTree', () => {
  test('renders tree nodes correctly', () => {
    const mockData = generateMockOrganizations()
    render(<OrganizationTree />, {
      preloadedState: { dashboard: { organizations: mockData } }
    })

    expect(screen.getByText('XXå¸‚å¤§æ•°æ®ä¸­å¿ƒ')).toBeInTheDocument()
  })

  test('handles node click', () => {
    const mockDispatch = jest.fn()
    // æµ‹è¯•é€»è¾‘
  })
})

// Reduxæµ‹è¯•ç¤ºä¾‹
describe('dashboardSlice', () => {
  test('setSelectedOrganization updates state', () => {
    const initialState = { selectedOrganization: null }
    const action = setSelectedOrganization(mockNode)
    const newState = dashboardReducer(initialState, action)

    expect(newState.selectedOrganization).toEqual(mockNode)
  })
})
```

#### 4.3.2 é›†æˆæµ‹è¯•
```typescript
// ç«¯åˆ°ç«¯æµ‹è¯•åœºæ™¯
describe('Navigation Flow', () => {
  test('complete navigation from root to asset', async () => {
    render(<Dashboard />)

    // 1. ç‚¹å‡»éƒ¨é—¨èŠ‚ç‚¹
    fireEvent.click(screen.getByText('å¸‚å…¬å®‰å±€'))
    await waitFor(() => {
      expect(screen.getByText('éƒ¨é—¨ç³»ç»Ÿ')).toBeInTheDocument()
    })

    // 2. ç‚¹å‡»ç³»ç»Ÿå¡ç‰‡
    fireEvent.click(screen.getByText('å…¬å®‰æ‰§æ³•ç³»ç»Ÿ'))
    await waitFor(() => {
      expect(screen.getByText('ç³»ç»Ÿè¯¦æƒ…')).toBeInTheDocument()
    })

    // 3. ç‚¹å‡»èœ‚çªå›¾èµ„äº§
    fireEvent.click(screen.getByTestId('asset-hexagon'))
    await waitFor(() => {
      expect(screen.getByText('èµ„äº§è¯¦æƒ…')).toBeInTheDocument()
    })
  })
})
```

#### 4.3.3 æµ‹è¯•è¦†ç›–ç‡è¦æ±‚
- **è¡Œè¦†ç›–ç‡**: â‰¥80%
- **åˆ†æ”¯è¦†ç›–ç‡**: â‰¥70%
- **å‡½æ•°è¦†ç›–ç‡**: â‰¥85%
- **è¯­å¥è¦†ç›–ç‡**: â‰¥80%

## ç•Œé¢è®¾è®¡éœ€æ±‚

### 5.1 è§†è§‰è®¾è®¡è§„èŒƒ

#### 5.1.1 è‰²å½©è§„èŒƒ
```css
/* å“ç‰Œè‰²å½© */
:root {
  --primary-color: #1677ff;        /* ä¸»è‰²è°ƒ */
  --success-color: #52c41a;        /* æˆåŠŸ/å¥åº· */
  --warning-color: #faad14;        /* è­¦å‘Š */
  --error-color: #ff4d4f;          /* é”™è¯¯/å±é™© */

  /* å¥åº·çŠ¶æ€è‰² */
  --status-healthy: #52c41a;       /* å¥åº· */
  --status-warning: #faad14;       /* è­¦å‘Š */
  --status-critical: #ff4d4f;      /* ä¸¥é‡ */
  --status-unknown: #8c8c8c;       /* æœªçŸ¥ */
}
```

#### 5.1.2 å­—ä½“è§„èŒƒ
```css
/* å­—ä½“å¤§å° */
:root {
  --font-size-h1: 32px;           /* é¡µé¢æ ‡é¢˜ */
  --font-size-h2: 24px;           /* åŒºåŸŸæ ‡é¢˜ */
  --font-size-h3: 20px;           /* å¡ç‰‡æ ‡é¢˜ */
  --font-size-h4: 16px;           /* ç»„ä»¶æ ‡é¢˜ */
  --font-size-base: 14px;         /* åŸºç¡€å­—ä½“ */
  --font-size-small: 12px;        /* å°å·å­—ä½“ */
}
```

#### 5.1.3 å¸ƒå±€è§„èŒƒ
```css
/* é—´è·ç³»ç»Ÿ - 8pxåŸºå‡† */
:root {
  --space-xs: 4px;
  --space-sm: 8px;
  --space-md: 16px;
  --space-lg: 24px;
  --space-xl: 32px;
  --space-xxl: 48px;
}

/* ç»„ä»¶å°ºå¯¸ */
:root {
  --sidebar-width: 200px;
  --header-height: 60px;
  --kpi-section-height: 120px;
  --alert-panel-height: 300px;
}
```

### 5.2 äº¤äº’è®¾è®¡è§„èŒƒ

#### 5.2.1 çŠ¶æ€åé¦ˆ
```css
/* æ‚¬åœçŠ¶æ€ */
.interactive-element {
  transition: all 0.3s ease;
  cursor: pointer;
}

.interactive-element:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(22, 119, 255, 0.15);
}

/* é€‰ä¸­çŠ¶æ€ */
.selected {
  background-color: rgba(22, 119, 255, 0.1);
  border-left: 3px solid var(--primary-color);
}

/* åŠ è½½çŠ¶æ€ */
.loading {
  position: relative;
  pointer-events: none;
}

.loading::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 20px;
  height: 20px;
  border: 2px solid #f3f3f3;
  border-top: 2px solid var(--primary-color);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}
```

#### 5.2.2 åŠ¨ç”»è§„èŒƒ
```css
/* åŸºç¡€è¿‡æ¸¡ */
.smooth-transition {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* è¿›å…¥åŠ¨ç”» */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.fade-in-up {
  animation: fadeInUp 0.3s ease-out;
}
```

### 5.3 å“åº”å¼è®¾è®¡éœ€æ±‚

#### 5.3.1 æ–­ç‚¹ç³»ç»Ÿ
```css
/* æ–­ç‚¹å®šä¹‰ */
--breakpoint-sm: 576px;
--breakpoint-md: 768px;
--breakpoint-lg: 992px;
--breakpoint-xl: 1200px;
--breakpoint-xxl: 1600px;
```

#### 5.3.2 é€‚é…ç­–ç•¥
```typescript
// å“åº”å¼é€‚é…è¦æ±‚
const responsiveConfig = {
  desktop: {
    minWidth: 1200,
    layout: 'three-panel',
    features: ['full-features']
  },
  tablet: {
    minWidth: 768,
    maxWidth: 1199,
    layout: 'two-panel',
    features: ['core-features']
  },
  mobile: {
    maxWidth: 767,
    layout: 'single-panel',
    features: ['essential-features']
  }
}
```

## æ€§èƒ½éœ€æ±‚

### 6.1 é¡µé¢æ€§èƒ½æŒ‡æ ‡

#### 6.1.1 æ ¸å¿ƒæ€§èƒ½æŒ‡æ ‡
| æŒ‡æ ‡ | ç›®æ ‡å€¼ | æµ‹é‡æ–¹æ³• |
|------|--------|----------|
| **é¦–å±åŠ è½½æ—¶é—´** | <2s | FCP (First Contentful Paint) |
| **é¡µé¢å®Œå…¨åŠ è½½** | <3s | LCP (Largest Contentful Paint) |
| **äº¤äº’å“åº”æ—¶é—´** | <100ms | FID (First Input Delay) |
| **å¸ƒå±€ç¨³å®šæ€§** | <0.1 | CLS (Cumulative Layout Shift) |
| **èµ„æºå‹ç¼©ç‡** | >70% | Gzip/Brotliå‹ç¼© |

#### 6.1.2 JavaScriptæ€§èƒ½
```typescript
// æ€§èƒ½ç›‘æ§å®ç°
const PerformanceMonitor = {
  // è®°å½•å…³é”®æ—¶é—´ç‚¹
  markTiming: (name: string) => {
    performance.mark(name)
  },

  // æµ‹é‡æ—¶é—´é—´éš”
  measureDuration: (name: string, startMark: string, endMark: string) => {
    performance.measure(name, startMark, endMark)
    const measure = performance.getEntriesByName(name)[0]
    console.log(`${name}: ${measure.duration}ms`)
  },

  // ç›‘æ§ç»„ä»¶æ¸²æŸ“æ€§èƒ½
  monitorComponentRender: (componentName: string) => {
    return (WrappedComponent: React.ComponentType) => {
      return (props: any) => {
        const renderStart = performance.now()

        useEffect(() => {
          const renderEnd = performance.now()
          console.log(`${componentName} render time: ${renderEnd - renderStart}ms`)
        })

        return <WrappedComponent {...props} />
      }
    }
  }
}
```

### 6.2 æ•°æ®å¤„ç†æ€§èƒ½

#### 6.2.1 å¤§æ•°æ®é›†å¤„ç†
```typescript
// è™šæ‹ŸåŒ–åˆ—è¡¨è¦æ±‚
interface VirtualListRequirements {
  maxItems: 10000          // æ”¯æŒæœ€å¤§é¡¹ç›®æ•°
  visibleItems: 20         // å¯è§é¡¹ç›®æ•°
  itemHeight: 50           // é¡¹ç›®å›ºå®šé«˜åº¦
  bufferSize: 5            // ç¼“å†²åŒºå¤§å°
  scrollThreshold: 100     // æ»šåŠ¨åŠ è½½é˜ˆå€¼
}

// åˆ†é¡µåŠ è½½ç­–ç•¥
const usePaginatedData = (pageSize: number = 20) => {
  const [data, setData] = useState([])
  const [loading, setLoading] = useState(false)
  const [hasMore, setHasMore] = useState(true)

  const loadMore = useCallback(async () => {
    if (loading || !hasMore) return

    setLoading(true)
    try {
      const newData = await fetchData(data.length, pageSize)
      setData(prev => [...prev, ...newData])
      setHasMore(newData.length === pageSize)
    } finally {
      setLoading(false)
    }
  }, [data.length, pageSize, loading, hasMore])

  return { data, loading, hasMore, loadMore }
}
```

#### 6.2.2 D3.jsæ€§èƒ½ä¼˜åŒ–
```typescript
// Canvasæ¸²æŸ“ä¼˜åŒ–ï¼ˆå½“SVGæ€§èƒ½ä¸è¶³æ—¶ï¼‰
const useCanvasRenderer = (data: any[], width: number, height: number) => {
  const canvasRef = useRef<HTMLCanvasElement>(null)

  useEffect(() => {
    const canvas = canvasRef.current
    if (!canvas) return

    const ctx = canvas.getContext('2d')
    const dpr = window.devicePixelRatio || 1

    // è®¾ç½®é«˜DPIæ”¯æŒ
    canvas.width = width * dpr
    canvas.height = height * dpr
    canvas.style.width = `${width}px`
    canvas.style.height = `${height}px`
    ctx.scale(dpr, dpr)

    // ä½¿ç”¨requestAnimationFrameè¿›è¡Œæ¸²æŸ“
    const render = () => {
      ctx.clearRect(0, 0, width, height)

      // æ‰¹é‡ç»˜åˆ¶æ•°æ®ç‚¹
      data.forEach(item => {
        drawDataPoint(ctx, item)
      })
    }

    requestAnimationFrame(render)
  }, [data, width, height])

  return canvasRef
}
```

### 6.3 å†…å­˜ç®¡ç†

#### 6.3.1 å†…å­˜ä½¿ç”¨é™åˆ¶
- **JavaScriptå †å†…å­˜**: <100MB
- **DOMèŠ‚ç‚¹æ•°é‡**: <5000
- **äº‹ä»¶ç›‘å¬å™¨**: åŠæ—¶æ¸…ç†
- **å®šæ—¶å™¨**: é¿å…å†…å­˜æ³„æ¼

#### 6.3.2 å†…å­˜ä¼˜åŒ–ç­–ç•¥
```typescript
// ç»„ä»¶æ¸…ç†è§„èŒƒ
const ComponentWithCleanup: React.FC = () => {
  useEffect(() => {
    const subscription = dataService.subscribe(handleData)
    const intervalId = setInterval(refreshData, 30000)
    const eventListener = (e: Event) => handleEvent(e)

    window.addEventListener('resize', eventListener)

    // æ¸…ç†å‡½æ•°
    return () => {
      subscription.unsubscribe()
      clearInterval(intervalId)
      window.removeEventListener('resize', eventListener)
    }
  }, [])

  return <div>Component content</div>
}

// å¤§å¯¹è±¡å¼•ç”¨æ¸…ç†
const useLargeDataSet = (dataId: string) => {
  const [data, setData] = useState(null)

  useEffect(() => {
    const loadData = async () => {
      const result = await fetchLargeDataSet(dataId)
      setData(result)
    }

    loadData()

    // ç»„ä»¶å¸è½½æ—¶æ¸…ç†å¤§å¯¹è±¡
    return () => {
      setData(null)
    }
  }, [dataId])

  return data
}
```

## å®‰å…¨éœ€æ±‚

### 7.1 å‰ç«¯å®‰å…¨

#### 7.1.1 XSSé˜²æŠ¤
```typescript
// è¾“å…¥éªŒè¯å’Œæ¸…ç†
const sanitizeInput = (input: string): string => {
  // ç§»é™¤æ½œåœ¨çš„XSSæ”»å‡»å‘é‡
  return input
    .replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi, '')
    .replace(/javascript:/gi, '')
    .replace(/on\w+\s*=/gi, '')
}

// å®‰å…¨çš„HTMLæ¸²æŸ“
const SafeHTML: React.FC<{ content: string }> = ({ content }) => {
  const sanitizedContent = useMemo(() => {
    return DOMPurify.sanitize(content, {
      ALLOWED_TAGS: ['b', 'i', 'em', 'strong', 'span'],
      ALLOWED_ATTR: ['class', 'style']
    })
  }, [content])

  return (
    <div dangerouslySetInnerHTML={{ __html: sanitizedContent }} />
  )
}
```

#### 7.1.2 æ•°æ®åŠ å¯†
```typescript
// æ•æ„Ÿæ•°æ®åŠ å¯†å­˜å‚¨
const SecureStorage = {
  set: (key: string, value: any) => {
    const encrypted = CryptoJS.AES.encrypt(
      JSON.stringify(value),
      process.env.VITE_ENCRYPTION_KEY
    ).toString()
    localStorage.setItem(key, encrypted)
  },

  get: (key: string) => {
    const encrypted = localStorage.getItem(key)
    if (!encrypted) return null

    try {
      const decrypted = CryptoJS.AES.decrypt(
        encrypted,
        process.env.VITE_ENCRYPTION_KEY
      ).toString(CryptoJS.enc.Utf8)
      return JSON.parse(decrypted)
    } catch {
      return null
    }
  },

  remove: (key: string) => {
    localStorage.removeItem(key)
  }
}
```

### 7.2 ç½‘ç»œå®‰å…¨

#### 7.2.1 APIå®‰å…¨
```typescript
// è¯·æ±‚æ‹¦æˆªå™¨
const apiClient = axios.create({
  baseURL: process.env.VITE_API_BASE_URL,
  timeout: 10000
})

apiClient.interceptors.request.use(
  (config) => {
    // æ·»åŠ è®¤è¯å¤´
    const token = getAuthToken()
    if (token) {
      config.headers.Authorization = `Bearer ${token}`
    }

    // æ·»åŠ CSRF Token
    const csrfToken = getCsrfToken()
    if (csrfToken) {
      config.headers['X-CSRF-Token'] = csrfToken
    }

    return config
  },
  (error) => Promise.reject(error)
)

// å“åº”æ‹¦æˆªå™¨
apiClient.interceptors.response.use(
  (response) => response,
  (error) => {
    if (error.response?.status === 401) {
      // å¤„ç†æœªæˆæƒè®¿é—®
      redirectToLogin()
    }
    return Promise.reject(error)
  }
)
```

#### 7.2.2 å†…å®¹å®‰å…¨ç­–ç•¥
```html
<!-- CSPå¤´éƒ¨è®¾ç½® -->
<meta http-equiv="Content-Security-Policy"
      content="default-src 'self';
               script-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net;
               style-src 'self' 'unsafe-inline';
               img-src 'self' data: https:;
               font-src 'self' https://fonts.gstatic.com;">
```

## å¼€å‘è§„èŒƒ

### 8.1 ä»£ç ç»„ç»‡è§„èŒƒ

#### 8.1.1 ç›®å½•ç»“æ„
```
src/
â”œâ”€â”€ components/                 # é€šç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ common/                # åŸºç¡€ç»„ä»¶
â”‚   â””â”€â”€ dashboard/             # ä¸šåŠ¡ç»„ä»¶
â”œâ”€â”€ pages/                     # é¡µé¢ç»„ä»¶
â”œâ”€â”€ hooks/                     # è‡ªå®šä¹‰Hooks
â”œâ”€â”€ utils/                     # å·¥å…·å‡½æ•°
â”œâ”€â”€ types/                     # ç±»å‹å®šä¹‰
â”œâ”€â”€ store/                     # çŠ¶æ€ç®¡ç†
â”œâ”€â”€ services/                  # APIæœåŠ¡
â”œâ”€â”€ constants/                 # å¸¸é‡å®šä¹‰
â”œâ”€â”€ styles/                    # å…¨å±€æ ·å¼
â””â”€â”€ tests/                     # æµ‹è¯•æ–‡ä»¶
```

#### 8.1.2 å‘½åè§„èŒƒ
```typescript
// æ–‡ä»¶å‘½åï¼škebab-case
organization-tree.tsx
health-matrix.component.tsx
api-client.service.ts

// ç»„ä»¶å‘½åï¼šPascalCase
const OrganizationTree: React.FC = () => {}
const HealthMatrixChart: React.FC = () => {}

// å‡½æ•°å‘½åï¼šcamelCase
const handleNodeClick = () => {}
const fetchSystemData = () => {}

// å¸¸é‡å‘½åï¼šSCREAMING_SNAKE_CASE
const API_BASE_URL = 'https://api.example.com'
const MAX_RETRY_ATTEMPTS = 3

// ç±»å‹å‘½åï¼šPascalCase
interface OrganizationNode {}
type HealthStatus = 'HEALTHY' | 'WARNING' | 'CRITICAL'
```

### 8.2 Gitå·¥ä½œæµè§„èŒƒ

#### 8.2.1 åˆ†æ”¯ç®¡ç†
```bash
# ä¸»åˆ†æ”¯
main                    # ç”Ÿäº§ç¯å¢ƒåˆ†æ”¯
develop                 # å¼€å‘ç¯å¢ƒåˆ†æ”¯

# åŠŸèƒ½åˆ†æ”¯
feature/org-tree        # åŠŸèƒ½å¼€å‘åˆ†æ”¯
feature/health-matrix   # åŠŸèƒ½å¼€å‘åˆ†æ”¯

# ä¿®å¤åˆ†æ”¯
hotfix/critical-bug     # ç´§æ€¥ä¿®å¤åˆ†æ”¯
bugfix/minor-issue      # é—®é¢˜ä¿®å¤åˆ†æ”¯

# å‘å¸ƒåˆ†æ”¯
release/v2.1.0          # ç‰ˆæœ¬å‘å¸ƒåˆ†æ”¯
```

#### 8.2.2 æäº¤æ¶ˆæ¯è§„èŒƒ
```bash
# æäº¤æ¶ˆæ¯æ ¼å¼
<type>(<scope>): <subject>

<body>

<footer>

# ç±»å‹è¯´æ˜
feat:     æ–°åŠŸèƒ½
fix:      ä¿®å¤bug
docs:     æ–‡æ¡£æ›´æ–°
style:    ä»£ç æ ¼å¼åŒ–
refactor: é‡æ„ä»£ç 
test:     æµ‹è¯•ç›¸å…³
chore:    æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨

# ç¤ºä¾‹
feat(org-tree): add node expansion animation
fix(health-matrix): resolve hexagon positioning issue
docs(readme): update installation instructions
```

### 8.3 ä»£ç å®¡æŸ¥è§„èŒƒ

#### 8.3.1 å®¡æŸ¥æ¸…å•
- [ ] **åŠŸèƒ½æ­£ç¡®æ€§**: ä»£ç å®ç°æ˜¯å¦ç¬¦åˆéœ€æ±‚
- [ ] **æ€§èƒ½å½±å“**: æ˜¯å¦å­˜åœ¨æ€§èƒ½é—®é¢˜
- [ ] **å®‰å…¨è€ƒè™‘**: æ˜¯å¦å­˜åœ¨å®‰å…¨æ¼æ´
- [ ] **ä»£ç è´¨é‡**: ä»£ç æ˜¯å¦æ¸…æ™°æ˜“è¯»
- [ ] **æµ‹è¯•è¦†ç›–**: æ˜¯å¦åŒ…å«å……åˆ†çš„æµ‹è¯•
- [ ] **æ–‡æ¡£å®Œæ•´**: æ˜¯å¦åŒ…å«å¿…è¦çš„æ³¨é‡Šå’Œæ–‡æ¡£

#### 8.3.2 å®¡æŸ¥æµç¨‹
1. **è‡ªå®¡**: å¼€å‘è€…æäº¤å‰è‡ªè¡Œå®¡æŸ¥
2. **åŒè¡Œå®¡æŸ¥**: å›¢é˜Ÿæˆå‘˜ä»£ç å®¡æŸ¥
3. **æŠ€æœ¯å®¡æŸ¥**: æŠ€æœ¯è´Ÿè´£äººæœ€ç»ˆå®¡æŸ¥
4. **è‡ªåŠ¨åŒ–æ£€æŸ¥**: CI/CDæµæ°´çº¿è‡ªåŠ¨æ£€æŸ¥

## æµ‹è¯•éœ€æ±‚

### 9.1 æµ‹è¯•ç­–ç•¥

#### 9.1.1 æµ‹è¯•é‡‘å­—å¡”
```
        E2E Tests (10%)
       â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      Integration Tests (20%)
     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    Unit Tests (70%)
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
```

#### 9.1.2 æµ‹è¯•åˆ†ç±»
| æµ‹è¯•ç±»å‹ | è¦†ç›–èŒƒå›´ | å·¥å…· | ç›®æ ‡è¦†ç›–ç‡ |
|---------|---------|------|------------|
| **å•å…ƒæµ‹è¯•** | ç»„ä»¶ã€å‡½æ•°ã€å·¥å…·ç±» | Jest + RTL | 80% |
| **é›†æˆæµ‹è¯•** | ç»„ä»¶äº¤äº’ã€Redux | Jest + RTL | 60% |
| **ç«¯åˆ°ç«¯æµ‹è¯•** | å®Œæ•´ç”¨æˆ·æµç¨‹ | Cypress | ä¸»æµç¨‹è¦†ç›– |
| **è§†è§‰å›å½’æµ‹è¯•** | UIä¸€è‡´æ€§ | Percy/Chromatic | å…³é”®é¡µé¢ |

### 9.2 æµ‹è¯•å®ç°

#### 9.2.1 ç»„ä»¶æµ‹è¯•
```typescript
// OrganizationTreeç»„ä»¶æµ‹è¯•
describe('OrganizationTree', () => {
  const mockStore = configureMockStore([])
  const defaultState = {
    dashboard: {
      organizations: mockOrganizations,
      selectedOrganization: null
    }
  }

  beforeEach(() => {
    jest.clearAllMocks()
  })

  test('renders organization tree correctly', () => {
    const store = mockStore(defaultState)
    render(
      <Provider store={store}>
        <OrganizationTree />
      </Provider>
    )

    expect(screen.getByText('XXå¸‚å¤§æ•°æ®ä¸­å¿ƒ')).toBeInTheDocument()
    expect(screen.getByText('å¸‚å…¬å®‰å±€')).toBeInTheDocument()
  })

  test('handles node selection', async () => {
    const store = mockStore(defaultState)
    const user = userEvent.setup()

    render(
      <Provider store={store}>
        <OrganizationTree />
      </Provider>
    )

    await user.click(screen.getByText('å¸‚å…¬å®‰å±€'))

    const actions = store.getActions()
    expect(actions).toContainEqual(
      expect.objectContaining({
        type: 'dashboard/setSelectedOrganization'
      })
    )
  })

  test('displays health status correctly', () => {
    const stateWithUnhealthyOrg = {
      ...defaultState,
      dashboard: {
        ...defaultState.dashboard,
        organizations: [{
          ...mockOrganizations[0],
          healthStatus: 'CRITICAL'
        }]
      }
    }

    const store = mockStore(stateWithUnhealthyOrg)
    render(
      <Provider store={store}>
        <OrganizationTree />
      </Provider>
    )

    expect(screen.getByTestId('health-indicator-critical')).toBeInTheDocument()
  })
})
```

#### 9.2.2 Reduxæµ‹è¯•
```typescript
// dashboardSliceæµ‹è¯•
describe('dashboardSlice', () => {
  const initialState: DashboardState = {
    selectedOrganization: null,
    organizations: [],
    systems: [],
    filteredAssets: [],
    selectedDepartmentId: null,
    selectedAssetId: null,
    metrics: null,
    alerts: [],
    vulnerabilities: [],
    filters: {},
    loading: false,
    error: null
  }

  test('setSelectedOrganization', () => {
    const mockNode: OrganizationNode = {
      id: 'dept_001',
      name: 'å¸‚å…¬å®‰å±€',
      type: 'department',
      healthStatus: 'HEALTHY',
      systemCount: 5,
      assetCount: 32
    }

    const action = setSelectedOrganization(mockNode)
    const newState = dashboardReducer(initialState, action)

    expect(newState.selectedOrganization).toEqual(mockNode)
  })

  test('setFilteredAssets filters correctly', () => {
    const mockAssets: Asset[] = [
      { id: 'asset_001', name: 'æœåŠ¡å™¨-01', systemId: 'sys_001' },
      { id: 'asset_002', name: 'æ•°æ®åº“-01', systemId: 'sys_001' }
    ]

    const action = setFilteredAssets(mockAssets)
    const newState = dashboardReducer(initialState, action)

    expect(newState.filteredAssets).toEqual(mockAssets)
    expect(newState.filteredAssets).toHaveLength(2)
  })
})
```

#### 9.2.3 ç«¯åˆ°ç«¯æµ‹è¯•
```typescript
// Cypress E2Eæµ‹è¯•
describe('Dashboard Navigation Flow', () => {
  beforeEach(() => {
    cy.visit('/')
    cy.intercept('GET', '/api/v1/organizations/tree', {
      fixture: 'organizations.json'
    })
  })

  it('completes full navigation flow', () => {
    // 1. éªŒè¯åˆå§‹çŠ¶æ€
    cy.contains('XXå¸‚å¤§æ•°æ®ä¸­å¿ƒä¸šåŠ¡å¥åº·æ€»è§ˆé¡µ').should('be.visible')
    cy.get('[data-testid="kpi-cards"]').should('be.visible')

    // 2. ç‚¹å‡»éƒ¨é—¨èŠ‚ç‚¹
    cy.get('[data-testid="org-node-dept_001"]').click()
    cy.contains('å¸‚å…¬å®‰å±€ - ç³»ç»ŸçŠ¶æ€').should('be.visible')

    // 3. åˆ‡æ¢åˆ°å¡ç‰‡è§†å›¾
    cy.get('[data-testid="view-toggle"]').click()
    cy.get('[data-testid="system-card"]').should('be.visible')

    // 4. ç‚¹å‡»ç³»ç»Ÿå¡ç‰‡
    cy.get('[data-testid="system-card"]').first().click()
    cy.contains('ç³»ç»Ÿè¯¦ç»†ä¿¡æ¯').should('be.visible')

    // 5. ç‚¹å‡»èœ‚çªå›¾èµ„äº§
    cy.get('[data-testid="asset-hexagon"]').first().click()
    cy.contains('èµ„äº§è¯¦ç»†ä¿¡æ¯').should('be.visible')

    // 6. éªŒè¯é¢åŒ…å±‘å¯¼èˆª
    cy.get('[data-testid="breadcrumb-link"]').should('be.visible')
    cy.get('[data-testid="breadcrumb-link"]').click()
    cy.contains('ç³»ç»Ÿè¯¦ç»†ä¿¡æ¯').should('be.visible')
  })

  it('filters alerts correctly', () => {
    // é€‰æ‹©éƒ¨é—¨
    cy.get('[data-testid="org-node-dept_001"]').click()

    // æ£€æŸ¥å‘Šè­¦é¢æ¿ç­›é€‰
    cy.get('[data-testid="alert-panel"]').within(() => {
      cy.contains('è¿è¡Œå‘Šè­¦').click()
      cy.get('[data-testid="alert-item"]').should('contain', 'å¸‚å…¬å®‰å±€')
    })
  })
})
```

### 9.3 æ€§èƒ½æµ‹è¯•

#### 9.3.1 æ¸²æŸ“æ€§èƒ½æµ‹è¯•
```typescript
// ç»„ä»¶æ¸²æŸ“æ€§èƒ½æµ‹è¯•
describe('Performance Tests', () => {
  test('OrganizationTree renders large dataset efficiently', async () => {
    const largeDataset = generateMockOrganizations(1000) // 1000ä¸ªèŠ‚ç‚¹
    const store = mockStore({
      dashboard: { organizations: largeDataset }
    })

    const startTime = performance.now()

    render(
      <Provider store={store}>
        <OrganizationTree />
      </Provider>
    )

    await waitFor(() => {
      expect(screen.getByTestId('org-tree')).toBeInTheDocument()
    })

    const endTime = performance.now()
    const renderTime = endTime - startTime

    expect(renderTime).toBeLessThan(500) // æ¸²æŸ“æ—¶é—´åº”å°äº500ms
  })

  test('HealthMatrix handles 500 data points', async () => {
    const largeAssetData = generateMockAssets(500)

    const startTime = performance.now()
    render(<HealthMatrix data={largeAssetData} />)

    await waitFor(() => {
      expect(screen.getByTestId('health-matrix')).toBeInTheDocument()
    })

    const endTime = performance.now()
    expect(endTime - startTime).toBeLessThan(1000) // 1ç§’å†…å®Œæˆæ¸²æŸ“
  })
})
```

#### 9.3.2 å†…å­˜æ³„æ¼æµ‹è¯•
```typescript
// å†…å­˜æ³„æ¼æ£€æµ‹
describe('Memory Leak Tests', () => {
  test('components cleanup properly on unmount', () => {
    const { unmount } = render(<Dashboard />)

    // è®°å½•åˆå§‹å†…å­˜ä½¿ç”¨
    const initialMemory = (performance as any).memory?.usedJSHeapSize

    // å¤šæ¬¡æŒ‚è½½å’Œå¸è½½ç»„ä»¶
    for (let i = 0; i < 10; i++) {
      const { unmount: unmountInstance } = render(<Dashboard />)
      unmountInstance()
    }

    // å¼ºåˆ¶åƒåœ¾å›æ”¶ï¼ˆä»…åœ¨æ”¯æŒçš„ç¯å¢ƒä¸­ï¼‰
    if (global.gc) {
      global.gc()
    }

    const finalMemory = (performance as any).memory?.usedJSHeapSize

    if (initialMemory && finalMemory) {
      const memoryIncrease = finalMemory - initialMemory
      expect(memoryIncrease).toBeLessThan(10 * 1024 * 1024) // å†…å­˜å¢é•¿<10MB
    }
  })
})
```

## éƒ¨ç½²éœ€æ±‚

### 10.1 æ„å»ºé…ç½®

#### 10.1.1 Viteæ„å»ºé…ç½®
```typescript
// vite.config.ts
export default defineConfig({
  plugins: [
    react(),
    // æ‰“åŒ…åˆ†æ
    bundleAnalyzer({
      analyzerMode: 'static',
      openAnalyzer: false,
      generateStatsFile: true
    })
  ],
  build: {
    target: 'es2020',
    minify: 'terser',
    sourcemap: process.env.NODE_ENV === 'production' ? false : true,
    rollupOptions: {
      output: {
        // ä»£ç åˆ†å‰²
        manualChunks: {
          vendor: ['react', 'react-dom'],
          redux: ['@reduxjs/toolkit', 'react-redux'],
          antd: ['antd', '@ant-design/icons'],
          d3: ['d3'],
          utils: ['dayjs', 'lodash']
        },
        // æ–‡ä»¶å‘½å
        chunkFileNames: 'assets/js/[name]-[hash].js',
        entryFileNames: 'assets/js/[name]-[hash].js',
        assetFileNames: 'assets/[ext]/[name]-[hash].[ext]'
      }
    },
    terserOptions: {
      compress: {
        drop_console: process.env.NODE_ENV === 'production',
        drop_debugger: true
      }
    }
  },
  server: {
    port: 3000,
    host: true,
    cors: true
  },
  preview: {
    port: 4173,
    host: true
  }
})
```

#### 10.1.2 ç¯å¢ƒé…ç½®
```bash
# .env.production
VITE_ENV=production
VITE_API_BASE_URL=https://api.production.com
VITE_ENABLE_MOCK=false
VITE_ENABLE_ANALYTICS=true

# .env.development
VITE_ENV=development
VITE_API_BASE_URL=https://api.dev.com
VITE_ENABLE_MOCK=true
VITE_ENABLE_ANALYTICS=false

# .env.test
VITE_ENV=test
VITE_API_BASE_URL=https://api.test.com
VITE_ENABLE_MOCK=true
VITE_ENABLE_ANALYTICS=false
```

### 10.2 Dockeré…ç½®

#### 10.2.1 Dockerfile
```dockerfile
# å¤šé˜¶æ®µæ„å»º
FROM node:18-alpine AS builder

WORKDIR /app

# å¤åˆ¶ä¾èµ–æ–‡ä»¶
COPY package*.json ./
RUN npm ci --only=production

# å¤åˆ¶æºä»£ç 
COPY . .

# æ„å»ºåº”ç”¨
RUN npm run build

# ç”Ÿäº§é•œåƒ
FROM nginx:alpine

# å¤åˆ¶æ„å»ºäº§ç‰©
COPY --from=builder /app/dist /usr/share/nginx/html

# å¤åˆ¶nginxé…ç½®
COPY nginx.conf /etc/nginx/conf.d/default.conf

# æ·»åŠ å¥åº·æ£€æŸ¥
HEALTHCHECK --interval=30s --timeout=3s --start-period=5s --retries=3 \
  CMD curl -f http://localhost/ || exit 1

EXPOSE 80

CMD ["nginx", "-g", "daemon off;"]
```

#### 10.2.2 Nginxé…ç½®
```nginx
server {
    listen 80;
    server_name localhost;
    root /usr/share/nginx/html;
    index index.html;

    # Gzipå‹ç¼©
    gzip on;
    gzip_vary on;
    gzip_min_length 1024;
    gzip_types text/plain text/css text/xml text/javascript
               application/javascript application/json
               application/xml+rss application/atom+xml;

    # é™æ€èµ„æºç¼“å­˜
    location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ {
        expires 1y;
        add_header Cache-Control "public, immutable";
        add_header X-Content-Type-Options nosniff;
    }

    # SPAè·¯ç”±æ”¯æŒ
    location / {
        try_files $uri $uri/ /index.html;

        # å®‰å…¨å¤´
        add_header X-Frame-Options DENY;
        add_header X-Content-Type-Options nosniff;
        add_header X-XSS-Protection "1; mode=block";
        add_header Referrer-Policy strict-origin-when-cross-origin;
    }

    # APIä»£ç†
    location /api/ {
        proxy_pass http://backend-service:8080;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    # å¥åº·æ£€æŸ¥ç«¯ç‚¹
    location /health {
        return 200 "OK";
        add_header Content-Type text/plain;
    }
}
```

### 10.3 CI/CDæµæ°´çº¿

#### 10.3.1 GitHub Actionsé…ç½®
```yaml
# .github/workflows/deploy.yml
name: Build and Deploy

on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '18'
          cache: 'npm'

      - name: Install dependencies
        run: npm ci

      - name: Run tests
        run: npm run test:coverage

      - name: Upload coverage
        uses: codecov/codecov-action@v3
        with:
          file: ./coverage/lcov.info

  build:
    needs: test
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/main'

    steps:
      - uses: actions/checkout@v3

      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '18'
          cache: 'npm'

      - name: Install dependencies
        run: npm ci

      - name: Build application
        run: npm run build
        env:
          VITE_ENV: production
          VITE_API_BASE_URL: ${{ secrets.API_BASE_URL }}

      - name: Build Docker image
        run: |
          docker build -t biz-stable:${{ github.sha }} .
          docker tag biz-stable:${{ github.sha }} biz-stable:latest

      - name: Push to registry
        run: |
          echo ${{ secrets.DOCKER_PASSWORD }} | docker login -u ${{ secrets.DOCKER_USERNAME }} --password-stdin
          docker push biz-stable:${{ github.sha }}
          docker push biz-stable:latest

  deploy:
    needs: build
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/main'

    steps:
      - name: Deploy to production
        run: |
          # éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒçš„è„šæœ¬
          echo "Deploying to production..."
```

### 10.4 ç›‘æ§å’Œæ—¥å¿—

#### 10.4.1 æ€§èƒ½ç›‘æ§
```typescript
// å‰ç«¯ç›‘æ§é…ç½®
const initMonitoring = () => {
  // Web Vitalsç›‘æ§
  import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {
    getCLS(console.log)
    getFID(console.log)
    getFCP(console.log)
    getLCP(console.log)
    getTTFB(console.log)
  })

  // é”™è¯¯ç›‘æ§
  window.addEventListener('error', (event) => {
    console.error('Global error:', event.error)
    // å‘é€åˆ°ç›‘æ§æœåŠ¡
  })

  window.addEventListener('unhandledrejection', (event) => {
    console.error('Unhandled promise rejection:', event.reason)
    // å‘é€åˆ°ç›‘æ§æœåŠ¡
  })
}

// ç”¨æˆ·è¡Œä¸ºç›‘æ§
const trackUserAction = (action: string, data?: any) => {
  // å‘é€ç”¨æˆ·è¡Œä¸ºæ•°æ®åˆ°åˆ†ææœåŠ¡
  console.log(`User action: ${action}`, data)
}
```

#### 10.4.2 æ—¥å¿—é…ç½®
```typescript
// æ—¥å¿—æœåŠ¡
class Logger {
  private isDevelopment = process.env.NODE_ENV === 'development'

  info(message: string, data?: any) {
    if (this.isDevelopment) {
      console.log(`[INFO] ${message}`, data)
    }
    this.sendToLogService('info', message, data)
  }

  error(message: string, error?: any) {
    console.error(`[ERROR] ${message}`, error)
    this.sendToLogService('error', message, error)
  }

  warn(message: string, data?: any) {
    if (this.isDevelopment) {
      console.warn(`[WARN] ${message}`, data)
    }
    this.sendToLogService('warn', message, data)
  }

  private sendToLogService(level: string, message: string, data?: any) {
    // å‘é€åˆ°æ—¥å¿—æœåŠ¡
    if (!this.isDevelopment) {
      // å®é™…çš„æ—¥å¿—æœåŠ¡è°ƒç”¨
    }
  }
}

export const logger = new Logger()
```

## éªŒæ”¶æ ‡å‡†

### 11.1 åŠŸèƒ½éªŒæ”¶

#### 11.1.1 æ ¸å¿ƒåŠŸèƒ½æ¸…å•
| åŠŸèƒ½æ¨¡å— | éªŒæ”¶æ ‡å‡† | æµ‹è¯•æ–¹æ³• |
|---------|---------|---------|
| **ç»„ç»‡æ¶æ„æ ‘** | å››çº§å±‚æ¬¡æ­£ç¡®å±•ç¤ºï¼Œäº¤äº’å“åº”æ­£å¸¸ | æ‰‹åŠ¨æµ‹è¯• + è‡ªåŠ¨åŒ–æµ‹è¯• |
| **å¥åº·çŸ©é˜µå›¾** | D3.jsæ¸²æŸ“æ­£ç¡®ï¼Œäº¤äº’æµç•… | è§†è§‰æµ‹è¯• + æ€§èƒ½æµ‹è¯• |
| **ç³»ç»Ÿè¯¦æƒ…é¢æ¿** | å››ç§æ¨¡å¼åˆ‡æ¢æ­£ç¡®ï¼Œæ•°æ®æ˜¾ç¤ºå‡†ç¡® | åŠŸèƒ½æµ‹è¯• + æ•°æ®éªŒè¯ |
| **å‘Šè­¦ç›‘æ§** | ä¸‰ç±»å‘Šè­¦åˆ†ç±»æ­£ç¡®ï¼Œç­›é€‰å‡†ç¡® | åŠŸèƒ½æµ‹è¯• + é›†æˆæµ‹è¯• |
| **é¢åŒ…å±‘å¯¼èˆª** | å¯¼èˆªè·¯å¾„æ­£ç¡®ï¼Œè¿”å›åŠŸèƒ½æ­£å¸¸ | ç”¨æˆ·æµç¨‹æµ‹è¯• |

#### 11.1.2 äº¤äº’éªŒæ”¶
- [ ] æ‰€æœ‰ç‚¹å‡»æ“ä½œå“åº”æ—¶é—´<100ms
- [ ] çŠ¶æ€å˜æ›´è§†è§‰åé¦ˆæ˜æ˜¾
- [ ] åŠ è½½çŠ¶æ€æç¤ºå‹å¥½
- [ ] é”™è¯¯çŠ¶æ€å¤„ç†å¾—å½“
- [ ] é”®ç›˜å¯¼èˆªæ”¯æŒå®Œæ•´

### 11.2 æ€§èƒ½éªŒæ”¶

#### 11.2.1 é¡µé¢æ€§èƒ½æŒ‡æ ‡
| æŒ‡æ ‡ | ç›®æ ‡å€¼ | å½“å‰å€¼ | çŠ¶æ€ |
|------|--------|--------|------|
| FCP | <2s | - | å¾…æµ‹è¯• |
| LCP | <3s | - | å¾…æµ‹è¯• |
| FID | <100ms | - | å¾…æµ‹è¯• |
| CLS | <0.1 | - | å¾…æµ‹è¯• |
| Bundle Size | <2MB | - | å¾…æµ‹è¯• |

#### 11.2.2 æ€§èƒ½æµ‹è¯•åœºæ™¯
```typescript
// æ€§èƒ½æµ‹è¯•ç”¨ä¾‹
const performanceTests = [
  {
    name: 'å¤§æ•°æ®é›†æ¸²æŸ“',
    scenario: '1000ä¸ªç»„ç»‡èŠ‚ç‚¹',
    expectation: 'æ¸²æŸ“æ—¶é—´<500ms'
  },
  {
    name: 'èœ‚çªå›¾äº¤äº’',
    scenario: '500ä¸ªèµ„äº§èœ‚çª',
    expectation: 'ç¼©æ”¾å¹³ç§»æµç•…60fps'
  },
  {
    name: 'å‘Šè­¦åˆ—è¡¨æ»šåŠ¨',
    scenario: '1000æ¡å‘Šè­¦è®°å½•',
    expectation: 'è™šæ‹Ÿæ»šåŠ¨æµç•…'
  },
  {
    name: 'çŠ¶æ€åˆ‡æ¢',
    scenario: 'å¿«é€Ÿåˆ‡æ¢ç»„ç»‡èŠ‚ç‚¹',
    expectation: 'å“åº”æ—¶é—´<50ms'
  }
]
```

### 11.3 å…¼å®¹æ€§éªŒæ”¶

#### 11.3.1 æµè§ˆå™¨å…¼å®¹æ€§
| æµè§ˆå™¨ | ç‰ˆæœ¬è¦æ±‚ | æµ‹è¯•çŠ¶æ€ |
|--------|---------|---------|
| Chrome | â‰¥90 | âœ… |
| Firefox | â‰¥88 | âœ… |
| Safari | â‰¥14 | âœ… |
| Edge | â‰¥90 | âœ… |

#### 11.3.2 è®¾å¤‡å…¼å®¹æ€§
| è®¾å¤‡ç±»å‹ | åˆ†è¾¨ç‡èŒƒå›´ | æµ‹è¯•çŠ¶æ€ |
|---------|-----------|---------|
| æ¡Œé¢ç«¯ | 1920Ã—1080åŠä»¥ä¸Š | âœ… |
| ç¬”è®°æœ¬ | 1366Ã—768åŠä»¥ä¸Š | âœ… |
| å¹³æ¿ | 768Ã—1024åŠä»¥ä¸Š | âœ… |
| æ‰‹æœº | 375Ã—667åŠä»¥ä¸Š | âœ… |

### 11.4 å®‰å…¨éªŒæ”¶

#### 11.4.1 å®‰å…¨æµ‹è¯•æ¸…å•
- [ ] XSSæ”»å‡»é˜²æŠ¤æµ‹è¯•
- [ ] CSRFæ”»å‡»é˜²æŠ¤æµ‹è¯•
- [ ] è¾“å…¥éªŒè¯æµ‹è¯•
- [ ] æ•æ„Ÿä¿¡æ¯æ³„éœ²æ£€æŸ¥
- [ ] ç¬¬ä¸‰æ–¹ä¾èµ–å®‰å…¨æ‰«æ

#### 11.4.2 å®‰å…¨é…ç½®éªŒè¯
- [ ] CSPå¤´éƒ¨é…ç½®æ­£ç¡®
- [ ] HTTPSå¼ºåˆ¶é‡å®šå‘
- [ ] å®‰å…¨Cookieè®¾ç½®
- [ ] X-Frame-Optionsé…ç½®
- [ ] æ•æ„Ÿæ–‡ä»¶è®¿é—®é™åˆ¶

### 11.5 éƒ¨ç½²éªŒæ”¶

#### 11.5.1 éƒ¨ç½²ç¯å¢ƒéªŒè¯
- [ ] ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æˆåŠŸ
- [ ] ç¯å¢ƒå˜é‡é…ç½®æ­£ç¡®
- [ ] æœåŠ¡å¥åº·æ£€æŸ¥é€šè¿‡
- [ ] è´Ÿè½½å‡è¡¡é…ç½®æ­£ç¡®
- [ ] æ—¥å¿—æ”¶é›†æ­£å¸¸

#### 11.5.2 å›æ»šéªŒè¯
- [ ] å¿«é€Ÿå›æ»šæœºåˆ¶
- [ ] æ•°æ®ä¸€è‡´æ€§ä¿è¯
- [ ] æœåŠ¡å¯ç”¨æ€§ç›‘æ§
- [ ] æ•…éšœæ¢å¤æµç¨‹

---

## ğŸ“š ç›¸å…³æ–‡æ¡£é“¾æ¥
- [åŠŸèƒ½æ›´æ–°æ–‡æ¡£](./åŠŸèƒ½æ›´æ–°æ–‡æ¡£.md)
- [æŠ€æœ¯æ¶æ„æ–‡æ¡£](./æŠ€æœ¯æ¶æ„æ–‡æ¡£.md)
- [UI-UXè®¾è®¡è§„èŒƒ](./UI-UXè®¾è®¡è§„èŒƒ.md)
- [æ¥å£è§„èŒƒæ–‡æ¡£](./æ¥å£è§„èŒƒæ–‡æ¡£.md)
- [å¼€å‘æŒ‡å—](../CLAUDE.md)

---

**æ–‡æ¡£ç»´æŠ¤**: æœ¬PRDæ–‡æ¡£åº”éšç€äº§å“åŠŸèƒ½çš„æ¼”è¿›æŒç»­æ›´æ–°ï¼Œç¡®ä¿å¼€å‘å›¢é˜Ÿå§‹ç»ˆæŒ‰ç…§æœ€æ–°éœ€æ±‚è¿›è¡Œå¼€å‘ã€‚